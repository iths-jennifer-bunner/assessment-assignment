(this["webpackJsonpassesment-assignment-app"]=this["webpackJsonpassesment-assignment-app"]||[]).push([[0],{35:function(e,t,s){},75:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(37),r=s.n(c),i=s(41),o=s(10),d=s(9),l=s.n(d),j=s(12),u=s(42),b=s(8),m=s(2),h=s(24),p=s(38),O=s.n(p).a.create({baseURL:"http://localhost:3006/"}),f=(s(35),s(0));var g=function(){return Object(f.jsxs)("div",{className:"header-container blobBody",children:[Object(f.jsx)("div",{className:"blob",children:Object(f.jsx)("div",{className:"circle"})}),Object(f.jsxs)("div",{className:"container-title",children:[Object(f.jsx)(b.b,{to:"/",children:Object(f.jsx)("h1",{children:"messages app"})}),Object(f.jsx)("h3",{children:"by jennifer bunner"})]})]})},x=function(e){var t=e.message,s=t.id,a=t.message,n=t.timestamp;return Object(f.jsxs)("div",{className:"message-container",children:[Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("div",{className:"message message__date",children:Object(f.jsx)("p",{className:"timestamp",children:n})}),Object(f.jsx)("div",{className:"message",children:Object(f.jsxs)("p",{children:[" ",a]})})]}),Object(f.jsxs)("div",{className:"message__toolLinks",children:[Object(f.jsx)("lord-icon",{className:"message message__toolLinks--trash",src:"https:cdn.lordicon.com/gsqxdxog.json",trigger:"hover",stroke:"100",colors:"primary:#FF0047,secondary:#ffffff",onClick:function(){return e.clickHandler(s)},style:{cursor:"pointer",paddingRight:"10px"}}),Object(f.jsx)(b.b,{to:{pathname:"/edit",state:{contact:e.message}},children:Object(f.jsx)("lord-icon",{className:"message message__toolLinks--edit",src:"https://cdn.lordicon.com/puvaffet.json",trigger:"hover",stroke:"100",colors:"primary:#ffffff,secondary:#FF0047"})})]})]})},v=function(e){console.log("message-list: ",e);var t=function(t){e.getMessageId(t)},s=e.messages&&e.messages.map((function(e){return Object(f.jsx)(x,{message:e,clickHandler:t},e.id)}));return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h2",{children:"Doing yoga on the boulders is the best way I to start my mornings"}),Object(f.jsxs)("div",{className:"video-container",children:[Object(f.jsx)("video",{controls:!0,muted:!0,playsInline:!0,src:"/assets/taryn-elliott.mp4",className:"video-container__video",children:"Your browser does not support the video tag."}),Object(f.jsx)("h4",{children:"Video by Taryn Elliott from Pexels"})]}),Object(f.jsx)("div",{className:"",children:s}),Object(f.jsx)(b.b,{to:"/add",children:Object(f.jsx)("button",{className:"button",children:"Add Message"})})]})},y=s(18),N=s(19),k=s(21),w=s(20),M=function(e){Object(k.a)(s,e);var t=Object(w.a)(s);function s(){var e;Object(y.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={message:""},e.add=function(t){t.preventDefault(),""!==e.state.message&&(e.props.addMessageHandler(e.state),e.setState({message:"",userId:""}),e.props.history.push("/"))},e}return Object(N.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("form",{className:"form formBlobBody",onSubmit:this.add,children:[Object(f.jsx)("h2",{children:"Add Message"}),Object(f.jsx)("div",{className:"field ",children:Object(f.jsx)("textarea",{type:"text",name:"message",placeholder:"Message",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}})}),Object(f.jsx)("div",{className:"smallBlob",children:Object(f.jsx)("div",{className:"smallCircle"})}),Object(f.jsx)("div",{className:"hidden",children:"Nothing to say? "}),Object(f.jsx)("button",{className:"button",children:"Add message"}),Object(f.jsx)(b.b,{to:"/",children:Object(f.jsx)("p",{children:"Go back"})})]})})}}]),s}(n.a.Component),_=M,S=function(e){Object(k.a)(s,e);var t=Object(w.a)(s);function s(e){var a;Object(y.a)(this,s),(a=t.call(this,e)).update=function(e){e.preventDefault(),""!==a.state.message&&(a.props.updateMessageHandler(a.state),a.setState({message:"",timestamp:""}),a.props.history.push("/"))};var n=e.location.state.contact,c=n.id,r=n.message,i=n.timestamp;return a.state={id:c,message:r,timestamp:i},a}return Object(N.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("form",{className:"form",onSubmit:this.update,children:[Object(f.jsx)("h2",{children:"Edit Message"}),Object(f.jsx)("div",{className:"field",children:Object(f.jsx)("textarea",{rows:"5",cols:"55",type:"text",name:"message",placeholder:"Message",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value,timestamp:(new Date).toUTCString()})}})}),Object(f.jsx)("button",{className:"button",children:"Update"}),Object(f.jsx)(b.b,{to:"/",children:Object(f.jsx)("p",{children:"Go back"})})]})})}}]),s}(n.a.Component);var C=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),s=t[0],n=t[1],c=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/messages?_sort=timestamp&_order=desc");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(j.a)(l.a.mark((function e(t){var a,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=Object(h.uuid)(),c=Object(o.a)({id:a,url:"localhost:3006/messages/"+a,timestamp:(new Date).toUTCString(),userId:Object(h.uuid)()},t),e.next=5,O.post("/messages",c);case 5:r=e.sent,console.log(r),n([].concat(Object(i.a)(s),[r.data]));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=Object(a.useCallback)(function(){var e=Object(j.a)(l.a.mark((function e(t){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.put("/messages/".concat(t.id),t);case 2:a=e.sent,c=a.data.id,n(s.map((function(e){return e.id===c?Object(o.a)({},a.data):e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),p=function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delete("/messages/".concat(t));case 2:a=s.filter((function(e){return e.id!==t})),n(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:(t=e.sent)&&n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(f.jsx)("div",{children:Object(f.jsxs)(b.a,{children:[Object(f.jsx)(g,{}),Object(f.jsxs)(m.c,{children:[Object(f.jsx)(m.a,{path:"/",exact:!0,render:function(e){return Object(f.jsx)(v,Object(o.a)(Object(o.a)(Object(o.a)({},e),{},{messages:s,getMessageId:p},e),{},{addMessageHandler:r}))}}),Object(f.jsx)(m.a,{path:"/add",render:function(e){return Object(f.jsx)(_,Object(o.a)(Object(o.a)({},e),{},{addMessageHandler:r}))}}),Object(f.jsx)(m.a,{path:"/edit",render:function(e){return Object(f.jsx)(S,Object(o.a)(Object(o.a)({},e),{},{updateMessageHandler:d}))}})]})]})})};r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.455a305a.chunk.js.map